---
title: Linux Cheat Sheet
---

# Linux共通チートシート

## GUIでのSCP
---

|基本|
|-|
|scpとは、sshを通じてリモートマシンとの間でファイルをコピーするコマンド|


Ubuntuにデフォルトで入っているファイルマネージャNautilusで接続できる。
ssh接続しているRaspberry Piからログファイルをコピーしたいときなどに重宝する。

例: Raspberry Piのローカルアドレス192.168.1.1、ユーザー名piの場合

- ファイルマネージャを開く。
- ファイル->サーバーへ接続
- 「サーバーアドレス」に``ssh://pi@192.168.1.1``と入力
- 「接続する」をクリックするとパスワードを求められる。

以上の手順により、接続先のファイルをファイルマネージャ上で操作できるようになる。

## 一つのsshセッションで複数のターミナルを使う方法
---

Byobuを使えばよい。

インストール：``sudo apt-get install byobu``

ssh接続前に`byobu-enable`を実行しておくことで、接続時にbyobuが自動的に起動する。手動で起動する場合は`byobu`と打てばよい。
```
$ byobu-enable
$ ssh pi@192.168.1.1
```

|コマンド|機能|
|------|---|
|F2|新しいウィンドウを開く|
|F3|前のウィンドウに移動|
|F4|次のウィンドウに移動|
|Ctrl-F6|現在のウィンドウを終了(exitと打ってもよい)|

## シリアル通信
---

ターミナルでシリアル通信を監視するためには、cuを用いるのが便利である。インストールは``sudo apt-get install cu``でできる。

シリアル通信を監視するためには少なくともデバイス名とボーレート（通信速度、シリアル通信したいデバイス間で事前に共通の値を決めておく必要がある）の情報が必要である。現在コンピュータに接続されているデバイス一覧は``ls /dev/tty*``で確認できる。
例えばUSBデバイスなら``/dev/ttyUSB0``のように表示される。

接続先のデバイス名とボーレートがわかったら、以下のようにしてcuを実行する。ここでは、接続デバイスは/dev/ttyUSB0、ボーレートは57600と仮定する。
```bash
$ cu -l /dev/ttyUSB0 -s 57600
```

cuを使うとき、Permission deniedと表示されることがある。このときは以下のコマンドでデバイスのパーミッションを変更する。
```
$ sudo chmod o+wr /dev/ttyUSB0
```

シリアル通信の終了は``ctrl + c``で **できない** ので注意が必要である。

終了するためには``Enter``を押したのち``~.``と入力する。

## デバイスとttyUSBxの対応を確認する方法
---

``dmesg|grep usb``で確認できる。
